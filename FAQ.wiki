#summary Frequently asked questions.
#labels Featured

== How fast is it? ==

With Minify you will ideally serve _fewer_ requests, but Minify can be slower than your HTTPd serving flat files. If you have a high-traffic site with hundreds of simultaneous requests from new users, you should probably:

  * Use the [CookBook APC/Memcache adapters].
  * Revision your Minify URIs (so far-off Expires headers will be sent). One way to do this is using [http://code.google.com/p/minify/source/browse/tags/release_2.1.3/min/README.txt#69 predefined groups] and the [http://code.google.com/p/minify/source/browse/tags/release_2.1.3/min/utils.php#13 Minify_groupUri()] utility function.
  * Place your HTTPd behind a [http://www.squid-cache.org/Intro/why.dyn reverse proxy] to cache the Minify URLs.
  * Benchmark Minify on your development server before rolling out to production.

=== Will it get faster? ===

Ideally, but a couple [ProjectGoals other goals] come first. For Apache users we're designing a feature to enable [http://mrclay.org/index.php/2008/05/25/apache-http-encoding-negotiation-notes/ minified and pre-encoded files to be served directly from the HTTPd]. Requests will not execute PHP at all and be blazingly fast (for varying definitions of "blazingly").

== How does it compare with other services? ==

Yahoo's [http://yuiblog.com/blog/2008/07/16/combohandler/ Combo Handler] and Google's [http://code.google.com/apis/ajaxlibs/ AJAX Libraries API] both serve content from their heavy-duty [http://en.wikipedia.org/wiki/Content_Delivery_Network CDN]s and _potentially_ increase the chance that your visitor will already have a file in her browser cache. Neither service serves custom content that you provide. You may wish to use these services to serve popular libraries and Minify to serve your code.

== Does it support gzip compression? ==

Yes. Based on the browser's Accept-Encoding header, Minify will serve content encoded with deflate or gzip.

== Does it work with PHP opcode caches like APC and eAccelerator? ==

Of course, and you can also use [CookBook APC for content caching].

== Can it minify remote files/the output of dynamic scripts? ==

[http://code.google.com/p/minify/wiki/CustomSource#Non-File_Sources Yes], but it's not a straightforward setup, and probably best avoided. 

== Is there a minifier for HTML? ==

[http://code.google.com/p/minify/source/browse/trunk/min/lib/Minify/HTML.php Yes], and it can even minify embedded STYLE and SCRIPT elements. Since Minify_HTML is not fast, the best time to use it is when storing HTML; e.g., in a DB keep one copy for editing and one minified for serving.

Minify is not suited for _serving_ HTML pages on a site, though it can be done for small numbers of static pages.

== Why do the CSS & HTML minifiers add so many line breaks? ==

It's [https://github.com/yui/yuicompressor/blob/master/doc/README#L43 rumored] that some source control tools don't like very long lines. Compressed files with shorter lines are also easier to diff.

Since both Minify classes are regex-based, it would be very difficult/error-prone to count characters then try to re-establish context to add line breaks. Instead, both classes trade 1 space for 1 line break (`\n`) wherever possible, adding breaks but without adding bytes.

If you can think of another safe & efficient way to limit lines in these two tools without adding bytes, submit a patch or some pseudocode to the [http://groups.google.com/group/minify support group].

== How does it ensure that the client can't request files it shouldn't have access to? ==

In 2.1, by default, Minify allows files to be specified using the URI, or using pre-configured sets of files. With URI-specified files, Minify is [Security very careful] to serve only JS/CSS files that are already public on your server, but if you hide public directories--with .htaccess, e.g.--Minify can't know that. Obvious Tip: don't put sensitive info in JS/CSS files inside DOC_ROOT :)

An included option can disable URI-specified files so Minify will serve only the pre-configured file sets.

== Is it used in production by any large-scale websites? ==

I'd love to know. 2.1.1 had 54K downloads and I know the library is powering several [http://mrclay.org/index.php/2009/01/10/minify-getting-out-there/ plugins] these days, at least 3 for !WordPress.

== Can I use it with my commercial website or product? ==

Yes. Minify is distributed under the [http://www.opensource.org/licenses/bsd-license.php New BSD License], which means that you're free to use, modify, and redistribute Minify or derivative works thereof, even for commercial purposes, as long as you comply with a few simple requirements. See the [http://code.google.com/p/minify/source/browse/trunk/LICENSE.txt LICENSE.txt] file for details.