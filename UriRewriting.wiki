#summary Helping Minify to correctly rewrite URIs in CSS
#labels Phase-Deploy

Minify uses an algorithm to rewrite relative URIs in CSS output to root-relative URIs so that each link points to the same location it did in its original file.

Say your style sheet `http://example.org/theme/fashion/style.css` contains:
{{{
body { background: url(bg.jpg); }
}}}

When Minify serves this content (from `http://example.org/min/f=theme/fashion/style.css` or `http://example.org/min/g=css`) it re-writes the URI so the image is correctly linked:
{{{
body{background:url(/theme/fashion/bg.jpg)}
}}}

You can see the steps used to rewrite your URIs by enabling [Debugging debug mode].

== Aliases / Symlinks / Virtual Directories ==

Whether you use [http://httpd.apache.org/docs/2.2/mod/mod_alias.html aliases], [http://en.wikipedia.org/wiki/Symbolic_link symlinks], or [http://msdn.microsoft.com/en-us/library/zwk103ab.aspx virtual directories], if you make content outside of the DOC_ROOT available at public URLs, Minify may need manual configuration of the `$min_symlinks` option to rewrite some URIs correctly. Consider this scenario, where `http://example.org/static/style.css` will serve `/etc/static_content/style.css`:
|| document root || `/var/www` ||
|| Apache mod_alias || `Alias /static /etc/static_content` ||
|| ...or symlink || `ln -s /etc/static_content /var/www/static` ||

In `/min/config.php` you'll need the following:
{{{
$min_symlinks = array(
//  URL path   => file path
    '//static' => '/etc/static_content'
);
}}}
This lets Minify know during the rewriting process that an internal file path starting with `/etc/static_content` should be rewritten as a public URI beginning with `/static`.